# exploitation quests (will be in future)

This version only for developers

## Structure of deploy_pkg.zip:

* info.json *(file with description for building)*
* containers
  * name_container1 *(folder with files for a specify container)*
    * dist *(folder with files will be wich uploading inside container)*
    * dev *(developer files by authors)*
    * container.json *(description of container and rules for a restart)*
    * start.py *(predefined script for start service or bot)*
  * name_container2 *(folder with files for a specify container)*
    * dist *(folder with files will be wich uploading inside container)*
    * dev *(developer files by authors)*
    * container.json *(description of container and rules for a restart)*
    * start.py *(predefined script for start service or bot)*
    * checker.py *(will be check correct work of service)*
* quests
  * name_quest1 *(folder with files for a specify quest)*
    * public *(folder with files for a publish)*
    * private *(folder with private files by author)*
    * quest.json
  * name_quest2 *(folder with files for a specify quest)*
    * public *(folder with files for a publish)*
    * private *(folder with private files by author)*
    * quest.json
* black_market
  * name_of_leak1
    * files *(folder with files for the leak)*
    * leak.json
  * name_of_leak2
    * files *(folder with files for the leak)*
    * leak.json


## Container

### Example of container.json

```
{
  "uuid": "{uuid}",
  "game": "{uuid}",
  "name": "mail_s",
  "type": "service",
  "date": "2018-03-04",
  "author": "John",
  "version": 1,
  "count": "2",
  "port": 8888,
  "priority": 1,
  "procreation":[{
    "rule": "when_broken"
  }]
}
```
where
* name - unique identifieer
* type - service or bot
* priority - order for up containers.
* restart - list of restart rules (or recreate)


### Example of enviroment.json

When creation containers must be uploaded `enviroment.json` to the next container, like this:

```
{
    fhq_mail_s_0: {
        ip: "192.168.1.9",
        port: "8888",
        ssh_user: "user111",
        ssh_password: "some random password",
        ...
    }
    fhq_mail_s_1: {
        ip: "192.168.2.10"
        port: "8888",
        ...
    }
}
```



## Quest

### Example of quest.json

like a basic quest json

## Leak

### Example of leak.json

It's simple

```
{
  "uuid": "{uuid}",
  "game": "{uuid}",
  "cost": 100,
  "name": "Leak in the Mail Service",
  "description": "A lot of description about leak",
  "author": "John"
  "files": [
    "name1.png": "Code of some",
    "name2.png": "Code2 of some",
  ]
}
```

where
* files - description of files from folder
